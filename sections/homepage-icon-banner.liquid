<section class="homepage-icon-banner {% if section.settings.show_mobile == true %}{% else %}hidden{% endif %} py-30 px-20 w-full md:block lg:py-40" style="background-color:{{ section.settings.bg_color }}">
    <h2 class="h5 text-center w-full mb-30 {% if section.settings.title_align_desktop %}md:text-left{% endif %} md:text-4xl xxl:text-5xl md:w-11/12 md:mx-auto">{{ section.settings.section_title }}</h2>
    <div class="homepage-icon-banner__icons flex  justify-center flex-wrap md:items-start">
        {% for block in section.blocks %}
            <div class="homepage-icon-banner__img-container pb-17 px-10 {{ section.settings.grid_width_mobile }} {% if block.settings.hide_mobile == true %}hidden {% endif %} md:block md:pb-0 md:flex-1">
              {% if block.settings.icon_link != blank %}  
                <a href="{{ block.settings.icon_link }}">
              {% endif %}
                  <img src="{{ block.settings.icon_img | img_url: '60x'}}" alt="{{block.icon_img.alt}}" class="mx-auto mb-10 w-[100%]">
                  <p class="p3 text-xs text-center lg:text-sm xxl:text-base">{{ block.settings.icon_text }}</p>
              {% if block.settings.icon_link != blank %} 
                </a>
              {% endif %}
            </div>
        {% endfor %}
    </div>
</section>
{% schema %}
  {
    "name": "Icon Banner",
    "settings": [
      {
        "type": "color",
        "id": "bg_color",
        "label": "Background Color"
      },
      {
        "type": "text",
        "id": "section_title",
        "label": "Title"
      },
      {
        "type": "checkbox",
        "id": "title_align_desktop",
        "label": "Title Left Alignment on Dekstop"
      },
      {
        "type": "checkbox",
        "id": "show_mobile",
        "label": "Show In Mobile"
      },
      {
        "type": "radio",
        "id": "grid_width_mobile",
        "label": "Grid Width on Mobile",
        "options": [
          {
            "value": "w-1/2",
            "label": "2 Columns"
          },
          {
            "value": "w-1/3",
            "label": "3 Columns"
          }
        ],
        "default": "w-1/2"
      }
    ],
    "blocks": [
    {
        "type": "image",
        "name": "Icon Section",
        "settings": [
          {
            "type": "image_picker",
            "id": "icon_img",
            "label": "Icon"
          },
          {
            "type": "text",
            "id": "icon_text",
            "label": "Icon text"
          },
          {
            "type": "url",
            "id": "icon_link",
            "label": "Icon link (Optional)"
          },
          {
            "type": "checkbox",
            "id": "hide_mobile",
            "label": "Hide this icon on mobile"
          }
        ]
      }
    ],
    "presets": [
      {
        "category": "WS - Modules",
        "name": "Icon Banner"
      }
    ]
  }
{% endschema %}
