{% assign acf_product_add_ons_handles = product.metafields.accentuate.product_add_on | split: '|' %}
{% if acf_product_add_ons_handles.size > 0%}
  <div class="mb-60 lg:mb-80">
    <div class="carousel swiper-container product-add-ons">
      <div class="flex items-center justify-between pl-20 mb-30 lg:pl-0">
        <h2 class="h3 leading-normal">Add Ons</h2>
        <div class="hidden lg:block">
          {%- comment -%} Navigation buttons {%- endcomment -%}
            {% unless acf_product_add_ons_handles.size <= 2 %}
            <div class="flex flex-row justify-between pr-100">
              <button title="Previous Button" type="button" class="swiper-button-prev flex justify-center items-center md:w-27 md:h-15">
                {% render 'icons', icon: 'arrow-prev' %}
              </button>
              <div class="fraction-pagination font-sansRegular label-md flex items-center  mx-20"></div>
              <button title="Next Button" type="button" class="swiper-button-next flex justify-center items-center md:w-27 md:h-15">
                {% render 'icons', icon: 'arrow-next' %}
              </button>
            </div>
          {% endunless %}
        </div>
      </div>
      <ul class="swiper-wrapper">
        {% for product_add_on in acf_product_add_ons_handles %}
          {% assign all_product_add_on = all_products[product_add_on] %}
          {% render 'product-card', product: all_product_add_on, class: 'swiper-slide', show_add: true, imageClass: 'object-cover' %}
        {% endfor %}
      </ul> 
      {%- comment -%} Navigation buttons {%- endcomment -%}
        <div class="block lg:hidden mt-40">
          {% unless acf_product_add_ons_handles.size <= 1 %}
            <div class="flex flex-row justify-between w-full px-20">
              <button title="Previous Button" type="button" class="swiper-button-prev flex justify-center items-center md:w-27 md:h-15">
                {% render 'icons', icon: 'arrow-prev' %}
              </button>
              <div class="fraction-pagination font-sansRegular label-md flex items-center w-auto mx-20"></div>
              <button title="Next Button" type="button" class="swiper-button-next flex justify-center items-center md:w-27 md:h-15">
                {% render 'icons', icon: 'arrow-next' %}
              </button>
            </div>
          {% endunless %}
        </div>
    </div> 
  </div>
{% endif %}
